require "gen_matrix.jinc"

export
fn jade_kem_mlkem_mlkem768_amd64_ref_gen_matrix(reg ptr u16[MLKEM_K*MLKEM_VECN] out, reg ptr u8[MLKEM_SYMBYTES] in, reg u64 transposed) -> reg ptr u16[MLKEM_K*MLKEM_VECN] {
  stack u16[MLKEM_K*MLKEM_VECN] result;
  stack u8[MLKEM_SYMBYTES] seed = #copy(in);
  result = __gen_matrix(seed, transposed);
  out = #copy(result);
  return out;
}
